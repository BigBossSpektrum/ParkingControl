{% extends 'app_page/base.html' %}
{% block title %}Portal de Opciones{% endblock %}
{% block extra_head %}
    <style>
        body {
            background: #111;
            color: #0f0;
            min-height: 100vh;
        }
        .btn-success {
            background: #0f0;
            color: #111;
            border: none;
        }
        .btn-success:hover {
            background: #0c0;
        }
        .btn-dark {
            background: #111;
            color: #0f0;
            border: 1px solid #0f0;
        }
        .portal-box {
            background: #222;
            border-radius: 16px;
            box-shadow: 0 8px 32px 0 rgba(0,0,0,0.37);
            padding: 40px 30px;
            max-width: 400px;
            margin: 80px auto;
            text-align: center;
        }
    </style>
{% endblock %}
{% block content %}
    <div class="portal-box">
        <h1 class="mb-4">Bienvenido</h1>
        <p class="mb-3">Hoy se han registrado <b style="color:#0ff">{{ conteo_hoy }}</b> clientes.</p>
        <a href="{% url 'index' %}" class="btn btn-success w-100 mb-3" style="color: #000; font-weight: bold;">Registrar Entrada</a>
        <a href="{% url 'salida_qr' %}" class="btn btn-dark w-100 mb-3" style="color: #0f0; font-weight: bold;">Registrar Salida</a>
        <a href="{% url 'lista_clientes' %}" class="btn btn-info w-100 mb-3" style="color:#111;background:#0ff;border:none; font-weight: bold;">Ver lista de clientes</a>
        
        {% if user.perfil.puede_editar_costos %}
            <a href="{% url 'configurar_costos' %}" class="btn btn-warning w-100 mb-3" style="color:#111; font-weight: bold;">
                <i class="bi bi-currency-dollar"></i>
                Configurar Costos
            </a>
        {% endif %}
        <hr style="border-color:#0f0;">
        <h5 class="mt-4 mb-3">Últimos registros</h5>
        <ul class="list-group mb-2">
            {% for c in ultimos %}
                <li class="list-group-item bg-dark text-success d-flex justify-content-between align-items-center" style="border-color:#0f0;">
                    <span>{{ c.nombre }} ({{ c.cedula }})</span>
                    <a href="{% url 'ver_registro' c.pk %}" class="btn btn-sm btn-outline-info">Ver</a>
                </li>
            {% empty %}
                <li class="list-group-item bg-dark text-warning">No hay registros recientes.</li>
            {% endfor %}
        </ul>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Ejemplo de SweetAlert al cargar la página
        // Puedes personalizar o disparar SweetAlert según eventos
        // Swal.fire({
        //   title: '¡Bienvenido!',
        //   text: 'Selecciona una opción para continuar.',
        //   icon: 'info',
        //   confirmButtonColor: '#0f0',
        //   background: '#222',
        //   color: '#0f0'
        // });
    </script>
{% endblock %}
